{% extends "base.html" %}

{% block title %}Ranking{% endblock %}

{% block content %}
    <section>
        <h2 style="display: flex; align-items: center; gap: 0.5rem;">
            ğŸ† Ranking wojewÃ³dztw wg ceny 1mÂ² mieszkaÅ„
        </h2>
        <p style="margin-bottom: 1rem; color: #555;">
            PorÃ³wnaj wojewÃ³dztwa pod wzglÄ™dem Å›redniej ceny metra kwadratowego mieszkania
            w wybranym roku. Dane pochodzÄ… z <strong>API GUS</strong>.
        </p>

        <form method="POST">
            <label for="rok"><strong>Wybierz rok:</strong></label>
            <select name="rok" id="rok">
                {% for r in lata %}
                    <option value="{{ r }}" {% if r == aktualny_rok %}selected{% endif %}>{{ r }}</option>
                {% endfor %}
            </select>
            <button type="submit">ğŸ” PokaÅ¼</button>
        </form>
    </section>

    <section>
        <h3>ğŸ“‹ Tabela z danymi</h3>
        <p style="color: #777;">Liczba wojewÃ³dztw: {{ tabela.shape[0] }}</p>
        {{ tabela.to_html(index=False) | safe }}
    </section>

    <section>
        <h3>ğŸ“Š Wizualizacja â€“ Top 10 wojewÃ³dztw wg ceny 1mÂ²</h3>
        <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <img src="data:image/png;base64,{{ wykres }}" alt="Wykres sÅ‚upkowy">
        </div>
    </section>
{% endblock %}
